# AIレビュー — code2map

## 指示

以下のレビュー観点に基づきコードを確認し、結果を `docs/tests/results/YYYYMMDD-HHMM-review.md` に報告してください。

- 結果報告の冒頭にサマリー（OK数 / NG数 / 総数、NG項目の一覧）を出力すること
- 全ての観点について OK / NG を判定すること
- NG の場合は、該当箇所（ファイル名・行番号）と理由を備考に記載すること
- 判定が難しい場合は備考にその旨を記載し、OK / NG のいずれかを選択すること

## 共通観点

| # | 観点 | 確認内容 |
|---|------|---------|
| C1 | ファイル名の安全性 | リポジトリ内のファイル名にOS禁止文字（`< > : " / \ \| ? *`）が含まれていないか |
| C2 | パス結合 | パス結合に `os.path.join` / `pathlib` を使っているか（`"/"` のハードコードがないか） |
| C3 | ファイル名の大文字小文字 | 大文字小文字だけが異なるファイル名が存在しないか |
| C4 | シークレット | シークレットやクレデンシャルがコードに含まれていないか |
| C5 | 入力のサニタイズ | ユーザー入力や外部入力がサニタイズされているか |
| C6 | セットアップ手順 | README の手順通りにセットアップが完結するか（暗黙の前提条件がないか） |
| C7 | バージョン指定 | 言語・ランタイムのバージョン指定が `pyproject.toml` と README で一致しているか |

## プロジェクト固有の観点

| # | 観点 | 確認内容 |
|---|------|---------|
| P1 | 生成ファイル名のサニタイズ | `_build_filename()` で生成されるファイル名にOS禁止文字が残らないか |
| P2 | サンプル出力の整合性 | `docs/examples/` 内のサンプル出力ファイル名にOS禁止文字が含まれていないか |
| P3 | part_file の参照整合性 | `docs/examples/` 内の MAP.json の `part_file` が実在するファイルを指しているか |
| P4 | INDEX.md のリンク整合性 | `docs/examples/` 内の INDEX.md のリンク先が実在するファイルを指しているか |
| P5 | バージョン番号の一致 | `pyproject.toml`、`CHANGELOG.md`、`__init__.py` のバージョンが一致しているか |

## 結果報告フォーマット

```markdown
## サマリー

- 結果: **OK: X / NG: X / 全 12 項目**
- NG項目: （なし、または NG 項目の # と観点を列挙）

## AIレビュー

| # | 観点 | 結果 | 備考 |
|---|------|------|------|
| C1 | ファイル名の安全性 | | |
| C2 | パス結合 | | |
| C3 | ファイル名の大文字小文字 | | |
| C4 | シークレット | | |
| C5 | 入力のサニタイズ | | |
| C6 | セットアップ手順 | | |
| C7 | バージョン指定 | | |
| P1 | 生成ファイル名のサニタイズ | | |
| P2 | サンプル出力の整合性 | | |
| P3 | part_file の参照整合性 | | |
| P4 | INDEX.md のリンク整合性 | | |
| P5 | バージョン番号の一致 | | |
```
